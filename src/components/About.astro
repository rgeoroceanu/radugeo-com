---
import { getLangFromUrl, useTranslations } from '../i18n/translations';

const lang = getLangFromUrl(Astro.url);
const t = useTranslations(lang);

const certifications = [
  { name: 'AWS Solutions Architect', year: '2023' },
  { name: 'iSAQB Software Architecture', year: '2023' },
  { name: 'Vaadin 24 Developer', year: '2023' },
];

const stats = [
  { value: t('about.experience'), label: t('about.experienceLabel') },
  { value: t('about.clients'), label: t('about.clientsLabel') },
];
---

<section id="about" class="py-24 bg-bg-secondary">
  <div class="max-w-6xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="text-center mb-16">
      <h2 class="text-3xl sm:text-4xl font-bold mb-4">
        {t('about.title')}
      </h2>
      <p class="text-xl text-text-secondary max-w-2xl mx-auto">
        {t('about.subtitle')}
      </p>
    </div>

    <div class="grid lg:grid-cols-2 gap-12 items-center">
      <!-- Bio Section with Photo -->
      <div>
        <!-- Profile Photo -->
        <div class="mb-8 flex justify-center lg:justify-start">
          <div class="relative">
            <div class="absolute -inset-1 bg-gradient-to-br from-accent to-accent-dark rounded-2xl blur opacity-25"></div>
            <picture>
              <source srcset="/profile.webp" type="image/webp" />
              <img
                src="/profile.png"
                alt="Radu Georoceanu - Senior Software Engineer & Architect"
                class="relative w-48 h-auto rounded-2xl border-2 border-accent/20"
                width="400"
                height="536"
                loading="lazy"
              />
            </picture>
          </div>
        </div>

        <p class="text-lg text-text-secondary leading-relaxed mb-8">
          {t('about.bio')}
        </p>

        <!-- Stats Grid -->
        <div class="grid grid-cols-2 gap-6 mb-8">
          {stats.map((stat) => (
            <div class="p-6 rounded-xl bg-bg-card border border-border">
              <p class="text-3xl font-bold text-accent mb-1">{stat.value}</p>
              <p class="text-text-muted text-sm">{stat.label}</p>
            </div>
          ))}
        </div>

        <!-- Industries -->
        <div class="p-6 rounded-xl bg-bg-card border border-border">
          <p class="text-sm text-text-muted mb-2">{t('about.industriesLabel')}</p>
          <p class="text-accent font-medium">{t('about.industries')}</p>
        </div>
      </div>

      <!-- Certifications Section -->
      <div>
        <h3 class="text-xl font-semibold mb-6">{t('about.credentials')}</h3>
        <div class="space-y-4">
          {certifications.map((cert) => (
            <div class="group p-6 rounded-xl bg-bg-card border border-border hover:border-accent/50 transition-all duration-300 flex items-center gap-4">
              <div class="w-12 h-12 rounded-xl bg-accent/10 flex items-center justify-center text-accent group-hover:bg-accent/20 transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z" />
                </svg>
              </div>
              <div class="flex-1">
                <p class="font-medium">{cert.name}</p>
                <p class="text-text-muted text-sm">{cert.year}</p>
              </div>
            </div>
          ))}
        </div>

        <!-- Tech Stack Preview -->
        <div class="mt-8 p-6 rounded-xl bg-bg-card border border-border">
          <p class="text-sm text-text-muted mb-4">Core Technologies</p>
          <div class="flex flex-wrap gap-2">
            {['Java', 'Spring Boot', 'Kafka', 'AWS', 'Kubernetes', 'React', 'Angular', 'Vaadin'].map((tech) => (
              <span class="px-3 py-1 rounded-full text-sm bg-accent/10 text-accent border border-accent/20">
                {tech}
              </span>
            ))}
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
